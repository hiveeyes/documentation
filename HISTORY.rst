#######
History
#######

.. contents::
   :local:
   :depth: 1

----

****
2016
****


2016-05-24 Platform upgrade
===========================
Richard and Andreas upgraded the software releases on our platform server
``swarm.hiveeyes.org`` to their most recent versions.
The upgrade worked without any issues.

Now we're running:

- Mosquitto 1.4.8
- InfluxDB 0.13.0 (from 0.10.0)
- Grafana 3.0.2 (from 2.6)
- Kotori 0.7.1 (from 0.5.1)

When upgrading InfluxDB, some database migration steps were required:

- https://docs.influxdata.com/influxdb/v0.13/administration/upgrading/#upgrading-from-0-10-or-0-11-to-0-13


2016-05-23 Weight gain at night, it's raining
=============================================
.. raw:: html

    <iframe src="https://swarm.hiveeyes.org/grafana/dashboard-solo/db/hiveeyes-lab-wedding?panelId=5&from=1464020765066&to=1464054310642" width="800" height="425" frameborder="0"></iframe>

.. container:: width-800

    It started raining at 23 hours, so the hive probably gained some weight through water
    (48 kg to 49 kg between 23:00 and 23:30 hours, reaching 50 kg at 01:00 hours).

|clearfix|


2016-05-22 Harvesting
=====================
.. raw:: html

    <iframe src="https://swarm.hiveeyes.org/grafana/dashboard-solo/db/hiveeyes-lab-wedding?panelId=5&from=1463906422908&to=1463948547357" width="800" height="425" frameborder="0"></iframe>

.. container:: width-800

    Robinia blossom time ahead. Richard and Laura want to make genuine
    Robinia honey, so they harvested the honey which is currently in the hive.

    You can recognize the two spots at 14:00 hours and ~20:00 hours.

|clearfix|


2016-05-20 Schwarmalarm
=======================
.. raw:: html

    <iframe src="https://swarm.hiveeyes.org/grafana/dashboard-solo/db/hiveeyes-lab-wedding?panelId=5&from=1463633560600&to=1463680184231" width="800" height="425" frameborder="0"></iframe>

.. container:: width-800

    Bam.

|clearfix|


2016-05-19 Elektrischer Reporter
================================

.. figure:: http://www.blinkenfilme.de/phase3/149/ER3_149-original.jpg
    :target: http://www.elektrischer-reporter.de/phase3/video/390/
    :alt: Elektrischer Reporter 149: Vernetzte Bienen, Fahrradlobbyisten und Spielausgrabungen
    :width: 800px

.. container:: width-800

    In »*Elektrischer Reporter 149: Vernetzte Bienen, Fahrradlobbyisten und Spielausgrabungen*«,
    Richard Pobering talks about the Hiveeyes project.

    Enjoy!

|clearfix|


2016-05-18 Spring time
======================

Intro
-----
Data currently is measured at intervals of about 15 minutes.

In the following graphs the weight of the hive is shown with the light blue line.
The temperature sensor inside the hive is shown in dark blue and
the sensor at the air hole, which is in the sun most times, is yellow.


April/May 2016
--------------
.. raw:: html

    <iframe src="https://swarm.hiveeyes.org/grafana/dashboard-solo/db/hiveeyes-lab-wedding?panelId=5&from=1461013134375&to=1463588387784" width="800" height="425" frameborder="0"></iframe>

.. container:: width-800

    Let's look at the data. During the cold period at the end of April the beehive loses absolute weight
    because the bees have to live off their reserves. In contrast, the following two weeks were amazingly warm in May,
    so the worker bees are getting extremely busy.

    From April 29 until May 13, the weight has increased by almost 14 Kg.
    On some days the beehive gained 2 Kg weigth due to pollen and nectar collecting.

    It was the time of the fruit blossoms, so the cherry, pear and apple trees were in bloom in the nearby allotments.

|clearfix|


2nd May
-------
.. raw:: html

    <iframe src="https://swarm.hiveeyes.org/grafana/dashboard-solo/db/hiveeyes-lab-wedding?panelId=5&from=1462023385549&to=1462248704801" width="800" height="425" frameborder="0"></iframe>

.. container:: width-800

    The beehive gained a lot of weight on the 2nd of May. After six o'clock in the morning
    the temperature begins to rise, at 7:15 the first sun rays shine on the entrance hole.
    The first scouts leave the beehive at 7:45 and at 8:15 everyone is in the air.
    The beehive suddenly loses 120g since about 1200 bees are leaving to harvest.

    At 9:20, the ratio between the arriving and departing bees reverses and the weight increases rapidly.

    Throughout the day, bees are flying in and out, collecting nectar and pollen, explore and report.
    Even as the beehive is in the shadow from 16:00 and the temperature starts sinking,
    the bee colony continues to collect until 20:00.

    1800g have then carried home. It was a good warm and important day, after the long period of winter
    and the cold snap end of April.

|clearfix|


.. _history-2016-04-14:

2016-04-14
==========
Tobias Lenartz and Markus Börner from `Elektrischer Reporter`_
visit us to interview Richard about our project,
the documentary will be aired on 2016-05-19.

.. figure:: https://ptrace.hiveeyes.org/2016-05-25_ElRep%20-%2001%20-%20Interview.jpg
    :alt: Elektrischer Reporter Interview "#149: Vernetzte Bienen"
    :width: 400px
    :align: center

    Elektrischer Reporter Interview "#149: Vernetzte Bienen"

|clearfix|

.. figure:: https://ptrace.hiveeyes.org/2016-05-25_ElRep%20-%2002%20-%20Tobias%20Lenartz%2C%20Markus%20Boerner.jpg
    :alt: Elektrischer Reporter "#149: Vernetzte Bienen": Tobias Lenartz, Markus Boerner
    :width: 400px
    :align: left
    :figclass: caption-regular

    Markus Boerner and Tobias Lenartz in »ElRep #149: Vernetzte Bienen«

.. figure:: https://ptrace.hiveeyes.org/2016-05-25_ElRep%20-%2003%20-%20Richard%20Pobering.jpg
    :alt: Elektrischer Reporter "#149: Vernetzte Bienen": Richard Pobering
    :width: 400px
    :align: right
    :figclass: caption-regular

    Richard Pobering in »ElRep #149: Vernetzte Bienen«

|clearfix|


2016-04-14
==========
Rigging up the scale frame "Beutenkarl" at the Hiveeyes Lab Beehive in Berlin Wedding.

.. figure:: https://ptrace.hiveeyes.org/2016-05-25_Scale%20Frame%20-%2001%20-%20Beutenkarl.jpg
    :alt: Scale Frame "Beutenkarl"
    :width: 400px
    :figclass: caption-narrow
    :align: left

    Scale Frame "Beutenkarl" carrying a `Bosche H30A single point load cell`_

.. figure:: https://ptrace.hiveeyes.org/2016-05-25_Scale%20Frame%20-%2002%20-%20Rigging.jpg
    :alt: Karsten at work
    :width: 400px
    :figclass: caption-narrow
    :align: right

    Karsten at work

|clearfix|

.. figure:: https://ptrace.hiveeyes.org/2016-05-25_Scale%20Frame%20-%2003%20-%20Rigging.jpg
    :alt: Richard is funneling the data
    :width: 400px
    :figclass: caption-narrow
    :align: left

    Richard is funneling the data

.. figure:: https://ptrace.hiveeyes.org/2016-05-25_Scale%20Frame%20-%2004%20-%20Data.jpg
    :alt: Data arrives
    :width: 400px
    :figclass: caption-narrow
    :align: right

    Data arrives

|clearfix|

.. figure:: https://ptrace.hiveeyes.org/2016-05-25_Scale%20Frame%20-%2005%20-%20Ready%2C%20Back.jpg
    :alt: Scale frame is mounted. Back view.
    :width: 400px
    :figclass: caption-narrow
    :align: left

    Scale frame is mounted. Back view.

.. figure:: https://ptrace.hiveeyes.org/2016-05-25_Scale%20Frame%20-%2006%20-%20Ready%2C%20Front.jpg
    :alt: Scale frame is mounted. Front view.
    :width: 400px
    :figclass: caption-narrow
    :align: right

    Scale frame is mounted. Front view.

|clearfix|


2016-02-16
==========
:ref:`OpenHive` starts transmitting data. Cheers!

.. figure:: https://scontent-frt3-1.xx.fbcdn.net/v/t1.0-9/12647035_10205861763442966_6589427078704744972_n.jpg?oh=ad00e82e9144d02b0a253905e4b739d5&oe=57E3B918
    :target: https://www.facebook.com/photo.php?fbid=10205861763442966&set=pb.1224510416.-2207520000.1454976667.&type=3&theater
    :alt: Open Hive ESP8266
    :width: 330px
    :figclass: caption-narrow
    :align: left

    ESP8266_-based sensor node transmits MQTT_ messages from the workbench

.. figure:: _static/img/kotori-logo.png
    :target: Kotori_
    :alt: Kotori
    :width: 75px
    :figclass: vertical-align-middle caption-center

    mqttlink++

.. figure:: https://ptrace.hiveeyes.org/2016-02-16_grafana-ber-prototype-2.jpeg
    :target: https://swarm.hiveeyes.org/grafana/dashboard/snapshot/b87pjWd80DfENQXBa4JzTT5mSUt83Tsd
    :alt: Open Hive Grafana dashboard
    :width: 330px
    :align: right

    Grafana dashboard "BER prototype #2"

|clearfix|

.. todo::

    Get some pictures from the ESP8266_ actually transmitting telemetry data here.
    Write some lines about the past and current setups at :ref:`OpenHive`.


2016-02-12
==========
Start integrating with mqttwarn_: Add `feature "dynamic topic targets"`_ to `incorporate topic names into topic targets`_.

.. figure:: https://ptrace.hiveeyes.org/2016-02-12_hiveeyes-notification-xmpp.jpg
    :alt: xmpp messages from mqttwarn
    :width: 800px

    Receive messages from MQTT_ and republish to XMPP_



.. _history-2016-02-04:

2016-02-04
==========
:ref:`hiveeyes-one` starts transmitting data. Cheers!

Hiveeyes radio receiver and sender
----------------------------------
Two Arduino_-based nodes talk to each other using RFM69_.
We use the BERadio_ encoding for efficiently sending multiple
measurement values over a 7-bit-clean communication link.

It's a harsh environment: The maximum payload size is 62 bytes.
To keep battery drain at its lowest, we want to squeeze as much
data into the payload as possible to reduce the number of radio
beams required to transmit collected telemetry data.

.. figure:: https://hiveeyes.org/raw-attachment/blog/einsiedlerkrebs-2015/10/14/Antenna/BiQuad.jpg
    :target: `DIY antennas for RFM69`_
    :alt: hiveeyes-one receiver
    :figclass: caption-narrow rotated
    :width: 350px
    :class: rotate-right
    :align: left

    The receiving antenna, see also `DIY antennas for RFM69`_

.. from: http://all-free-download.com/free-vector/download/antenna_and_radio_waves_clip_art_9501.html
.. figure:: _static/img/radio-waves.svg
    :target: RFM69_
    :width: 75px
    :figclass: vertical-align-middle caption-center

    RFM69_

    .. figure:: _static/img/beradio-logo.png
        :target: BERadio_
        :width: 75px
        :figclass: vertical-align-middle caption-center

        BERadio_

.. figure:: https://hiveeyes.org/raw-attachment/blog/einsiedlerkrebs-2015/10/14/Antenna/Distanz.jpg
    :target: `DIY antennas for RFM69`_
    :alt: hiveeyes-one sender
    :figclass: caption-narrow
    :width: 350px
    :align: right

    The first HEnode_ sensor node sits in a hive approx. 120 meters away
    in line-of-sight distance through a single tree. Transmits telemetry
    data over radio link.

|clearfix|


Hiveeyes radio-to-mqtt gateway
------------------------------
A JeeLink_ RFM69_ receiver is connected to the Gateway-JeePi_, a RaspberryPi_ SoC machine through USB,
acting as gateway and used as development and integration system.
This runs the BERadio_ gateway subsystem, a convenient serial-to-`MQTT`_ forwarder written in Python.
Also, we compile Arduino_ code on this machine and reprogram the devices.

.. figure:: https://hiveeyes.org/raw-attachment/blog/einsiedlerkrebs-2015/10/14/Antenna/Jeelink%2BSMA.jpg
    :target: `DIY antennas for RFM69`_
    :alt: hiveeyes-one receiver
    :width: 350px
    :figclass: caption-narrow
    :align: left

    The antenna is connected to the USB RFM69_ receiver JeeLink_ through a SMA connector

.. figure:: https://hiveeyes.org/raw-attachment/blog/einsiedlerkrebs-2015/10/14/Antenna/GatewayRPI-Jeelink.jpg
    :target: `DIY antennas for RFM69`_
    :alt: Gateway with RaspberryPi and JeeLink
    :width: 350px
    :figclass: caption-narrow
    :align: right

    Gateway with RaspberryPi_ and JeeLink_

|clearfix|


.. container:: container-center narrow

    .. figure:: _static/img/beradio-logo.png
        :target: BERadio_
        :width: 75px
        :align: left

        BERadio_

    .. figure:: _static/img/kotori-logo.png
        :target: Kotori_
        :alt: Kotori
        :width: 75px
        :align: right

        mqttlink++

|clearfix|


Hiveeyes backend
----------------

.. todo:: GraphViz_ flow graphs for giving insight into the communication paths between these components

.. figure:: https://ptrace.hiveeyes.org/2016-02-04_grafana-ber-prototype-1.jpeg
    :target: https://swarm.hiveeyes.org/grafana/dashboard/snapshot/Z9QBKYitgiOq53lrySWkbOSyWUk9rc92
    :alt: hiveeyes-one dashboard
    :width: 400px
    :align: right

    Grafana dashboard "BER prototype #1"

|clearfix|


2016-01-29
==========
- Announce beta version of the `Hiveeyes platform`_ hosted on ``swarm.hiveeyes.org``


2016-01-25
==========
Work on bringing :ref:`HiveeyesOne` into the field

.. figure:: https://ptrace.hiveeyes.org/2016-01-25_first-measurements-in-grafana.jpg
    :alt: hiveeyes-one: first measurements in grafana
    :width: 600px

    The first measurements arrive in Grafana


2016-01-03
==========
Dazz starts the `Hive Monitor`_ project featuring the `Hive Monitor Vagrant VM`_
and some `Hive Monitor Python scripts`_ for playing around with MQTT_ and forwarding
payloads between the serial interface and the Mosquitto_ message broker.


****
2015
****


2015-11
=======
- Proof-of-concept telemetry platform based on Mosquitto_, InfluxDB_ and Grafana_
  with Kotori_ 0.3.2 and BERadio_ 0.4.4. See upstream changes:

    - `Kotori 0.3.2 changes`_ aka. :ref:`Kotori 0.3.2` for :ref:`vendor Hiveeyes <vendor-hiveeyes>`
    - `BERadio 0.4.4 changes`_ aka. :ref:`BERadio 0.4.4`

- Further improve :ref:`HiveeyesOne` hardware and software


2015-10
=======

Open Hive
---------
- `Open Hive`_ is at the `Maker Faire Berlin`_ from 2015-10-03 to 2015-10-05.
  Donald Bell covered Clemens' "Open Hive" project in his summary `Maker Faire Berlin 2015`_:

    .. figure:: https://ptrace.hiveeyes.org/2016-05-25_openhive-maker-faire-berlin-2015-article.png
        :alt: Open Hive at Maker Faire Berlin 2015
        :target: `Maker Faire Berlin 2015`_
        :figclass: caption-large
        :width: 679px

        Open Hive at Maker Faire Berlin 2015.
        Excerpt from the article «The Very First Maker Faire Berlin Doesn’t Miss a Beat«
        published in `Make magazine`_ by Donald Bell, October 5, 2015.

- :ref:`openhive-temperature-array` prototype

    .. figure:: https://ptrace.hiveeyes.org/2016-05-25_openhive-temperature-array.jpg
        :alt: Open Hive temperature array prototype
        :width: 800px

        Open Hive temperature array, prototype left with PCB, right with ribbon cable

Hiveeyes
--------
- Continue working on :ref:`HiveeyesOne`

- Build upon `serial-to-mqtt`_ by `Andy Piper`_ and `Didier Donsez`_ and iterate into

    - the :ref:`beradio-spec`, an efficient transport protocol for radio link communication.
      Throws Bencode_ into the mix of the constrained environment of RFM69_ with Moteino_.
    - the BERadio_ Python library, for forwarding payloads between
      a JeeLink_ receiving data via RFM69_ on a serial interface
      of a RaspberryPi_ and the MQTT_ message broker Mosquitto_.

- Investigate SPI-Flash & Dualoptiboot for over-the-air programming


2015-08
=======
- Hacking on Hiveeyes at the `Chaos Communication Camp 2015`_ from 2015-08-13 to 2015-08-17 in Mildenberg
- Baby steps for BERadio_, first steps with Bencode_ on Arduino_


2015-07
=======
:ref:`openhive-seeeduino-stalker` prototype, see also `Open Hive Shields`_

.. figure:: https://scontent-frt3-1.xx.fbcdn.net/t31.0-8/11143664_10204755930037822_8992406508094252562_o.jpg
    :target: `Open Hive Shields`_
    :alt: Open Hive Seeeduino Stalker
    :width: 400px
    :align: left

    Open Hive Seeeduino Stalker

.. figure:: https://ptrace.hiveeyes.org/2016-05-25_openhive-seeeduino-stalker-kit-top.jpg
    :alt: Open Hive Seeeduino Stalker Kit
    :width: 400px
    :align: right
    :figclass: caption-narrow

    Open Hive Seeeduino Stalker Kit

|clearfix|


2015-04
=======
- Setup ``elbanco.hiveeyes.org`` as an integration server, we are running Debian 8.3 (jessie)

Open Hive Bee Scale
-------------------
The `Open Hive Bee Scale`_ is a low-cost load cell platform (prototype II)

.. figure:: https://scontent-frt3-1.xx.fbcdn.net/hphotos-xaf1/v/t1.0-0/p206x206/11188491_10204255677331817_1170125921095812284_n.jpg?oh=e86eff2ce77a3dfc2659cf7c29b438a2&oe=5755CAF2
    :target: `Open Hive Bee Scale`_
    :alt: Open Hive Bee Scale
    :width: 400px


2015-02
=======
- Start research on `MQTT-SN`_ with `MQTT-SN-Arduino`_ library

2015-01
=======
- Spin up Trac_ instance as a `Wiki of the Hiveeyes project <Hiveeyes project_>`_

`Open Hive`_ load cell platform (prototype I)

.. figure:: https://scontent-frt3-1.xx.fbcdn.net/hphotos-prn2/v/t1.0-0/p206x206/1558384_10201453236632551_648198296_n.jpg?oh=4efa966bf4c5d966bb627ba9d795e659&oe=5757B42C
    :target: `CNC Machining Workshop`_
    :alt: Open Hive CNC Machining Workshop
    :width: 400px

    `CNC Machining Workshop`_  at `FabLab Berlin`_

- News from Markus:
  http://www.euse.de/wp/blog/2015/01/bienenwaage-reloaded/


****
2014
****

2014-12
=======
- Start the mailing list "hiveeyes-devs ät ideensyndikat.org"
- Register domain "hiveeyes.org"


2014-11
=======
- Start working on a sensor node network based on Felix Rusu's LowPowerLab_ RFM12B_/RFM69_ libraries.

.. figure:: https://hiveeyes.org/raw-attachment/blog/rfm12b%20soldering/IMG_20141130_230212.jpg
    :target: `RFM Breakout-Board soldering`_
    :alt: Two nodes transmitting via RFM12B
    :width: 400px
    :align: left

    Two nodes transmitting via RFM12B_

.. figure:: https://hiveeyes.org/raw-attachment/blog/rfm12b%20soldering/IMG_20141130_230359.jpg
    :target: `RFM Breakout-Board soldering`_
    :alt: The first characters transmitted
    :width: 400px
    :align: right

    The first characters transmitted

|clearfix|

- News from Markus:
  http://www.euse.de/wp/blog/2014/11/voltaic-solar-charger-in-action/


2014-10
=======
- Start ...

    - organizing regular get-togethers
    - hardware evaluation and prototyping
    - architecture, concept and design


2014-09
=======
- `Workshop digitales Bienenmonitoring`_ at `mauergarten e.V.`_ on 2014-09-21


2014-04
=======
- Markus Euskirchen und Clemens Gruber bauen eine elektronische Bienenwaage:

    - http://www.euse.de/wp/blog/2014/04/durchbruch-bienenwaage/
    - http://www.euse.de/wp/blog/2014/06/bienenwaage-testbetrieb/
    - http://www.euse.de/wp/blog/2014/07/bienenstockwaage-wireless/

        .. figure:: https://www.euse.de/wp/wp-content/uploads/2014/07/p1050109.jpg
            :alt: Open Bee Hive Scale Wireless
            :width: 400px
            :figclass: caption-narrow

            Open Bee Hive Scale Wireless based on the `RedFly-Shield`_ from `Watterott`_.

    - http://www.euse.de/wp/blog/2014/07/bienenwaage-todo-2/
    - Bee Hive Scale Graph: http://www.euse.de/honig/beescale/graph.php
    - All articles: http://www.euse.de/wp/blog/tag/bienenwaage/

- Clemens Gruber starts the `Open Hive`_ open source beehive monitoring project
- Dazz starts collecting information about building an apidoctor: https://gist.github.com/dazz/11309904


2014-01
=======
Open Hive :ref:`openhive-cnc-machining-workshop-2014`

.. figure:: https://ptrace.hiveeyes.org/2016-05-25_openhive-beescale-2014-D.jpg
    :width: 400px
    :align: left

.. figure:: https://ptrace.hiveeyes.org/2016-05-25_openhive-beescale-2014-E.jpg
    :width: 400px
    :align: right

|clearfix|

****
2013
****

2013-07
=======
.. raw:: html

    <iframe src="https://player.vimeo.com/video/69973637?color=c9ff23&byline=0&portrait=0" width="800" height="450" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>

.. container:: width-800

    `Pre-Work Talk #7 -- Bees <https://vimeo.com/69973637>`_ from `IXDS <https://vimeo.com/user17912812>`_.

    In his talk "Bees Dance" Tim Landgraf reveals how robotics are involved with bees,
    Yair Kira presents his project "Bees Armchair" and beekeeper Clemens Gruber shares
    how he gets insights from his beehive through computer based monitoring in the
    "Open Hive" project. Clemens starts talking at 26:00.

    Enjoy!

|clearfix|


2013-06
=======

.. figure:: https://ptrace.hiveeyes.org/2016-05-24_openhive-prototype-sound_2013-06.png
    :target: http://open-hive.org/prototype-sound_2013-06/
    :alt: Open Hive Sound prototype
    :width: 800px

    `Result Dataset 2013/06 Day 08-17 <http://open-hive.org/prototype-sound_2013-06/>`_ from Clemens
    Gruber of Open Hive displaying different hive temperatures, humidity, brightness, pressure and audio fft.


****
2012
****

2012-07
=======
- The canonical Arduino Forum thread `Measuring the weight of a beehive <http://forum.arduino.cc/index.php?topic=113534.0>`_
- News from Markus: http://www.euse.de/wp/blog/2012/07/ulengewicht/

2012-05
=======
News from Markus:

- http://www.euse.de/wp/blog/2012/03/solarladegerat-fertig/
- http://www.euse.de/wp/blog/2012/05/bienengewicht/


****
2011
****
Markus Euskirchen starts the project „Bienenkisten-Monitoring“.

- http://www.euse.de/wp/blog/2011/12/lauschen-statt-wiegen/
- http://www.euse.de/wp/blog/2011/12/teileliste/

